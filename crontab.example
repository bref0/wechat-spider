# 微信公众号爬虫 - 定时任务配置示例
#
# 使用方法:
#   1. 编辑此文件,修改路径为你的项目实际路径
#   2. 执行: crontab -e
#   3. 将下面的配置复制进去
#   4. 保存并退出 (vim: :wq)
#   5. 查看已设置的任务: crontab -l
#
# Cron 表达式格式: 分 时 日 月 星期 命令
# * * * * * 命令
# │ │ │ │ │
# │ │ │ │ └─ 星期 (0-7, 0和7都是周日)
# │ │ │ └─── 月份 (1-12)
# │ │ └───── 日期 (1-31)
# │ └─────── 小时 (0-23)
# └───────── 分钟 (0-59)

# ==================== 常用定时任务示例 ====================

# 每天凌晨2点爬取
0 2 * * * /Users/xiaofeiwu/Documents/my-test/pachong-gzh/wechat-spider-node/scripts/cron-batch.sh >> /Users/xiaofeiwu/Documents/my-test/pachong-gzh/wechat-spider-node/logs/cron.log 2>&1

# 每6小时爬取一次 (00:00, 06:00, 12:00, 18:00)
0 */6 * * * /Users/xiaofeiwu/Documents/my-test/pachong-gzh/wechat-spider-node/scripts/cron-batch.sh >> /Users/xiaofeiwu/Documents/my-test/pachong-gzh/wechat-spider-node/logs/cron.log 2>&1

# 每12小时爬取一次 (00:00, 12:00)
0 */12 * * * /Users/xiaofeiwu/Documents/my-test/pachong-gzh/wechat-spider-node/scripts/cron-batch.sh >> /Users/xiaofeiwu/Documents/my-test/pachong-gzh/wechat-spider-node/logs/cron.log 2>&1

# 每周一早上8点爬取
0 8 * * 1 /Users/xiaofeiwu/Documents/my-test/pachong-gzh/wechat-spider-node/scripts/cron-batch.sh >> /Users/xiaofeiwu/Documents/my-test/pachong-gzh/wechat-spider-node/logs/cron.log 2>&1

# 工作日(周一到周五)每天早上9点爬取
0 9 * * 1-5 /Users/xiaofeiwu/Documents/my-test/pachong-gzh/wechat-spider-node/scripts/cron-batch.sh >> /Users/xiaofeiwu/Documents/my-test/pachong-gzh/wechat-spider-node/logs/cron.log 2>&1

# ==================== 注意事项 ====================
# 1. macOS 需要授予 cron 完全磁盘访问权限:
#    系统偏好设置 > 安全性与隐私 > 隐私 > 完全磁盘访问权限 > 添加 /usr/sbin/cron
#
# 2. 确保脚本有执行权限:
#    chmod +x /path/to/scripts/cron-batch.sh
#
# 3. 日志文件会自动创建,建议定期清理:
#    0 0 1 * * find /path/to/logs -name "*.log" -mtime +30 -delete
#
# 4. 宝塔面板部署时,路径需要修改为服务器上的实际路径
#    例如: /www/wwwroot/wechat-spider-node/scripts/cron-batch.sh
